---

name: Make sure that a build of the project works.
on: push

jobs:
  pushchecks:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v2

      - name: Install code prerequisites
        run: 'sudo apt-get install libreadline-dev libhmsbeagle-dev libopenmpi-dev'

      - name: Install documentation prerequisites
        run: 'sudo apt-get install latexmk'

      - name: Configure project
        run: ./configure

      - name: Run distcheck
        run: make distcheck
